{% extends "client/base.html" %}

{% block content %}

<div class="ui container">
   <table class="ui compact celled table">
      <thead>
         <tr>
         <th class="ten wide">Filename</th>
         <th class="two wide">Size</th>
         <th class="two wide">Type</th>
         <th class="two wide"></th>
         </tr>
      </thead>
      <tbody>
         <!-- Render the dataset -->
         <!-- id, name, description , file_count, total: sql fields -->
         {% for file in source_files %}
            <tr>
                  <td>{{ file['fname'] }}</td>
                  <td>{{ file['size'] }} bytes</td>
                  <td>{{ file['mimetype'] }}</td>
                  <td class="collapsing">
                     <a href="{{ url_for('client.get_particular_file', file_id=file['id']) }}">Download<a>
                  </td>
            </tr>
         {% endfor %}

      </tbody>
      <tfoot class="full-width">
         <tr>
         <th colspan="4">
            <!-- Render pagination for other datasets -->
            <div class="ui right floated pagination menu">
                  {% if page > 0 %}
                     <!-- Calculate the prev page and use as a link -->
                     {% set link = page-1 %}
                     <a href="{{ url_for('client.dataset_with_id', dset_id=dset_id, page=link) }}" class="active item">Prev</a>
                  {% endif %}

                  <!-- Page*limit must be less than total no. of datasets -->
                  {% if page*20 < total %}
                     <!-- Calculate the next page and use as a link -->
                     {% set link = page+1 %}
                     <a href="{{ url_for('client.dataset_with_id', dset_id=dset_id, page=link) }}" class="item">Next</a>
                  {% endif %}
            </div>
         </th>
         </tr>
      </tfoot>
   </table>
</div>
{% endblock %}